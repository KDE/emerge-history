From 89f2e08e440f9d3b77bdff6667d41b442087fe8f Mon Sep 17 00:00:00 2001
From: Romain Pokrzywka <romain@kdab.com>
Date: Wed, 21 Jul 2010 12:47:09 +0200
Subject: [PATCH 2/3] enable multi-core builds with nmake

---
 mkspecs/win32-msvc2008/qmake.conf |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/mkspecs/win32-msvc2008/qmake.conf b/mkspecs/win32-msvc2008/qmake.conf
index 9805e90..f502445 100644
--- a/mkspecs/win32-msvc2008/qmake.conf
+++ b/mkspecs/win32-msvc2008/qmake.conf
@@ -25,8 +25,8 @@ QMAKE_CFLAGS_YACC       =
 QMAKE_CFLAGS_LTCG       = -GL
 
 QMAKE_CXX               = $$QMAKE_CC
-QMAKE_CXXFLAGS          = $$QMAKE_CFLAGS
+QMAKE_CXXFLAGS          = $$QMAKE_CFLAGS -MP
 QMAKE_CXXFLAGS_WARN_OFF = $$QMAKE_CFLAGS_WARN_OFF
 QMAKE_CXXFLAGS_RELEASE  = $$QMAKE_CFLAGS_RELEASE
 QMAKE_CXXFLAGS_DEBUG    = $$QMAKE_CFLAGS_DEBUG
-- 
1.6.5.1.1367.gcd48

From b77e02f645730c346d6c849d65a8d26d2e8906a6 Mon Sep 17 00:00:00 2001
From: Romain Pokrzywka <romain@kdab.com>
Date: Wed, 21 Jul 2010 12:49:05 +0200
Subject: [PATCH 3/3] optimize release flags for wince

diff --git a/mkspecs/common/wince/qmake.conf b/mkspecs/common/wince/qmake.conf
index 57b89b9..6d98bf2 100644
--- a/mkspecs/common/wince/qmake.conf
+++ b/mkspecs/common/wince/qmake.conf
@@ -19,7 +19,7 @@ QMAKE_YACCFLAGS		= -d
 QMAKE_CFLAGS		= -nologo -Zm200 -Zc:wchar_t-
 QMAKE_CFLAGS_WARN_ON	= -W3
 QMAKE_CFLAGS_WARN_OFF	= -W0
-QMAKE_CFLAGS_RELEASE    = -O2 -MD
+QMAKE_CFLAGS_RELEASE    = -O1 -MD
 QMAKE_CFLAGS_LTCG       = -GL
 QMAKE_CFLAGS_DEBUG	= -DDEBUG -D_DEBUG -Zi -MDd
 QMAKE_CFLAGS_YACC	=
-- 
1.6.5.1.1367.gcd48
